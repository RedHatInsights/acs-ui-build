(self.webpackChunkacs=self.webpackChunkacs||[]).push([[996],{35183:(e,t,n)=>{"use strict";t.IU=t.ap=t.Jh=void 0;const r=n(70655),a=r.__importStar(n(93264));var i;!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(i=t.Jh||(t.Jh={})),t.ap=e=>{switch(e){case i.sm:return"1em";case i.md:return"1.5em";case i.lg:return"2em";case i.xl:return"3em";default:return"1em"}};let l=0;t.IU=function({name:e,xOffset:n=0,yOffset:c=0,width:o,height:u,svgPath:s}){var m;return m=class extends a.Component{constructor(){super(...arguments),this.id="icon-title-"+l++}render(){const e=this.props,{size:i,color:l,title:m,noVerticalAlign:d}=e,p=r.__rest(e,["size","color","title","noVerticalAlign"]),f=Boolean(m),v=(0,t.ap)(i),g=-.125*Number.parseFloat(v),h=d?null:{verticalAlign:`${g}em`},E=[n,c,o,u].join(" ");return a.createElement("svg",Object.assign({style:h,fill:l,height:v,width:v,viewBox:E,"aria-labelledby":f?this.id:null,"aria-hidden":!f||null,role:"img"},p),f&&a.createElement("title",{id:this.id},m),a.createElement("path",{d:s}))}},m.displayName=e,m.defaultProps={color:"currentColor",size:i.sm,noVerticalAlign:!1},m}},35451:(e,t,n)=>{"use strict";t.GR={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.rE=n(35183).IU(t.GR),t.ZP=t.rE},96733:(e,t,n)=>{"use strict";t.Z1={name:"CubesIcon",height:512,width:512,svgPath:"M488.6 250.2L392 214V105.5c0-15-9.3-28.4-23.4-33.7l-100-37.5c-8.1-3.1-17.1-3.1-25.3 0l-100 37.5c-14.1 5.3-23.4 18.7-23.4 33.7V214l-96.6 36.2C9.3 255.5 0 268.9 0 283.9V394c0 13.6 7.7 26.1 19.9 32.2l100 50c10.1 5.1 22.1 5.1 32.2 0l103.9-52 103.9 52c10.1 5.1 22.1 5.1 32.2 0l100-50c12.2-6.1 19.9-18.6 19.9-32.2V283.9c0-15-9.3-28.4-23.4-33.7zM358 214.8l-85 31.9v-68.2l85-37v73.3zM154 104.1l102-38.2 102 38.2v.6l-102 41.4-102-41.4v-.6zm84 291.1l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6zm240 112l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6z",yOffset:0,xOffset:0},t.TF=n(35183).IU(t.Z1),t.ZP=t.TF},84564:(e,t,n)=>{"use strict";t.MX={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.$O=n(35183).IU(t.MX),t.ZP=t.$O},8755:(e,t,n)=>{"use strict";t._t={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0},t.k1=n(35183).IU(t._t),t.ZP=t.k1},41942:(e,t,n)=>{"use strict";t.yR={name:"PendingIcon",height:1024,width:1024,svgPath:"M512.1,895.9 C300.3,895.9 128.1,723.8 128.1,511.9 C128.1,300.2 300.3,127.9 512.1,127.9 C723.8,127.9 896,300.2 896.1,511.9 C896.1,723.7 723.8,895.9 512.1,895.9 M512.1,0 C229.7,0 0,229.7 0,512 C0,794.3 229.7,1024 512.1,1024 C794.3,1024 1024,794.3 1024,512 C1024,229.7 794.3,0 512.1,0 M704,288 L704,272 C704,263.2 696.8,256 688,256 L336,256 C327.2,256 320,263.2 320,272 L320,288 C320,447 480,449 480,512 C480,575 320,575 320,736 L320,752 C320,760.8 327.2,768 336,768 L688,768 C696.8,768 704,760.8 704,752 L704,736 C704,576 544,577 544,512 C544,447 704,448 704,288 M603.9,704 L420.3,704 C417.3,704 418.2,695 419.4,686.8 C426.8,634.5 480.1,617.4 495.2,612.3 C512.3,606.6 512.3,606.6 528.9,612.3 C544,617.6 597.6,635.4 604.8,687 C605.9,695.2 606.9,704 603.9,704",yOffset:0,xOffset:0},t.tu=n(35183).IU(t.yR),t.ZP=t.tu},71070:(e,t,n)=>{"use strict";t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=n(35183).IU(t.xQ),t.ZP=t.W1},45331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(93264),a=n.n(r),i=n(21242),l=n(15558),c=n(15705),o=n(48564);const u=function(e){var t=e.instance;return a().createElement(i.DescriptionList,{isHorizontal:!0},a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Cloud provider"),a().createElement(i.DescriptionListDescription,null,(0,c.mt)(t.cloud_provider))),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Region"),a().createElement(i.DescriptionListDescription,null,a().createElement(o.Z,{id:t.region}))),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"ID"),a().createElement(i.DescriptionListDescription,null,t.id)),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Owner"),a().createElement(i.DescriptionListDescription,null,t.owner)),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Time created"),a().createElement(i.DescriptionListDescription,null,(0,l.F)(t.created_at))),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Time updated"),a().createElement(i.DescriptionListDescription,null,(0,l.F)(t.updated_at))),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Central API endpoint (Sensor mTLS)"),a().createElement(i.DescriptionListDescription,null,t.centralDataURL||"-")),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Central instance (UI, roxctl)"),a().createElement(i.DescriptionListDescription,null,t.centralUIURL||"-")))}},48564:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(93264),a=n.n(r),i=n(45759),l=n(15705),c=n(60509);function o(e){var t=e.id,n=(0,i.y)({provider:l.Zz}).data,o=(0,r.useMemo)((function(){return null==n?void 0:n.items.find((function(e){return e.id===t}))}),[n,t]);return a().createElement("span",null,o?(0,c.M)(o):t)}},71797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(4942),a=n(15861),i=n(87757),l=n.n(i),c=n(55140),o=n(9669),u=n.n(o);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){var e,t=(0,(0,c.Z)().isProd)()?"https://api.openshift.com":"https://api.stage.openshift.com";return(e=u().create()).interceptors.request.use(function(){var e=(0,a.Z)(l().mark((function e(n){var r,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return e.next=4,insights.chrome.auth.getToken();case 4:return r=e.sent,a=n.baseURL||t,i=m(m({},n),{},{url:"".concat(a).concat(n.url)}),r&&(i.headers=m(m({},i.headers),{},{Authorization:"Bearer ".concat(r)})),delete i.customHost,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e}},45759:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});var r=n(4942),a=n(15861),i=n(87757),l=n.n(i),c=n(88767),o=n(12699),u=n(71797);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,a,i,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.provider,a=n.instanceType,i=(0,o.W)({instance_type:a}),e.next=4,t.get("/api/rhacs/v1/cloud_providers/".concat(r,"/regions?").concat(i));case 4:return c=e.sent,u=c.data,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(e,t){var n=(0,u.Z)();return(0,c.useQuery)(function(e){return["cloud_regions",e]}(e),(function(){return m(n,e)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({staleTime:1/0},t))}},92221:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ae});var r=n(87462),a=n(70885),i=n(93264),l=n.n(i),c=n(51663),o=n(14748),u=n(89376),s=n(39173),m=n(21242),d=n(92820),p=n(96733),f=n(71070);var v=n(15861),g=n(87757),h=n.n(g),E=n(88767),y=n(12699),b=n(71797),O=function(){var e=(0,v.Z)(h().mark((function e(t,n){var r,a,i,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.query,a=(0,y.W)(r),e.next=4,t.get("/api/rhacs/v1/centrals?".concat(a));case 4:return i=e.sent,l=i.data,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=(0,v.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/api/rhacs/v1/cloud_accounts");case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=n(55140);const T=function(){var e=(0,C.Z)().analytics;return{analyticsTrack:function(t){localStorage.getItem("chrome:analytics:dev"),e.track(t)}}};var w=n(4942);const Z=function(e){var t=e.toggleIcon,n=e.id,r=e.value,c=e.handleSelect,o=e.isDisabled,u=void 0!==o&&o,s=e.children,d=e.direction,p=void 0===d?"down":d,f=e.isCreatable,v=void 0!==f&&f,g=e.variant,h=void 0===g?null:g,E=e.placeholderText,y=void 0===E?"":E,b=e.menuAppendTo,O=void 0===b?void 0:b,S=(0,i.useState)(!1),C=(0,a.Z)(S,2),T=C[0],w=C[1],Z="typeahead"===h?m.SelectVariant.typeahead:m.SelectVariant.single;return l().createElement(m.Select,{variant:Z,toggleIcon:t,id:n,isDisabled:u,isOpen:T,onSelect:function(e,t){w(!1),c(n,t)},onToggle:w,selections:r,direction:p,isCreatable:v,placeholderText:y,toggleId:n,menuAppendTo:O},s)};var P=n(45759),D=n(15705),I=n(60509);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={name:"",cloud_provider:D.Zz,region:D.LX,availabilityZones:"multi",cloud_account_id:""};const j=function(e){var t=e.isOpen,n=e.onClose,r=e.onRequestCreate,c=e.cloudAccountIds,o=(0,i.useState)(null),u=(0,a.Z)(o,2),s=u[0],d=u[1],p=(0,i.useState)(L),f=(0,a.Z)(p,2),g=f[0],E=f[1],y=(0,i.useState)(!1),b=(0,a.Z)(y,2),O=b[0],S=b[1],C=T().analyticsTrack;(0,i.useEffect)((function(){""===g.cloud_account_id&&1===c.length&&E((function(e){return k(k({},e),{},{cloud_account_id:c[0]})}))}),[c]);var w=(0,P.y)({provider:D.Zz}),x=w.data,j=w.isFetching,_=(0,i.useMemo)((function(){return(null==x?void 0:x.items)||[]}),[x]),A=(0,i.useMemo)((function(){return _.filter((function(e){return e.enabled}))}),[_]);function R(){d(null),E(L),S(!1),n()}function z(){return(z=(0,v.Z)(h().mark((function e(){var t,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("create-instance-form-submitted"),S(!0),e.next=4,r(g);case 4:t=e.sent,S(!1),t instanceof Error?(a=t.response.data.reason,d(a)):(E(L),n());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){var n=t.currentTarget.id;E((function(e){return k(k({},e),{},{availabilityZones:n})}))}return l().createElement(m.Modal,{variant:m.ModalVariant.small,title:"Create ACS instance",isOpen:t,onClose:R,actions:[l().createElement(m.Button,{key:"createInstance",variant:"primary",onClick:function(){return z.apply(this,arguments)},isLoading:O,isDisabled:O||!(null!=g&&g.name)},"Create instance"),l().createElement(m.Button,{key:"cancel",variant:"link",onClick:R,isDisabled:O},"Cancel")]},s&&l().createElement("div",{className:"pf-u-mb-md"},l().createElement(m.Alert,{variant:"danger",title:s})),l().createElement(m.Form,null,l().createElement(m.FormGroup,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Must start with a letter and end with a letter or number. Valid characters include lowercase letters from a to z, numbers from 0 to 9, and hyphens ( - )."},l().createElement(m.TextInput,{isRequired:!0,type:"text",id:"name",name:"name",value:g.name,onChange:function(e){E((function(t){return k(k({},t),{},{name:e})}))}})),l().createElement(m.FormGroup,{label:"Cloud provider",isRequired:!0,fieldId:"cloud_provider"},l().createElement(m.Tile,{title:"Amazon Web Services",isSelected:g.cloud_provider===D.Zz})),c.length>1&&l().createElement(m.FormGroup,{label:"AWS account number",fieldId:"cloud_account_id"},l().createElement(Z,{id:"cloud_account_id",value:g.cloud_account_id,handleSelect:function(e,t){E((function(e){return k(k({},e),{},{cloud_account_id:t})}))},placeholderText:"Select an AWS Account",menuAppendTo:"parent"},c.map((function(e){return l().createElement(m.SelectOption,{key:e,value:e},e)})))),l().createElement(m.FormGroup,{label:"Cloud region",isRequired:!0,fieldId:"region"},l().createElement(Z,{id:"region",isDisabled:j,value:g.region,handleSelect:function(e,t){E((function(e){return k(k({},e),{},{region:t})}))}},l().createElement(m.SelectOption,{value:"",isPlaceholder:!0,isDisabled:!0},"Choose a region"),A.map((function(e){return l().createElement(m.SelectOption,{key:e.id,value:e.id},(0,I.M)(e))})))),l().createElement(m.FormGroup,{label:"Availability zones",isRequired:!0,fieldId:"availabilityZones"},l().createElement(m.ToggleGroup,{"aria-label":"Availability Zones"},l().createElement(m.ToggleGroupItem,{text:"Single",buttonId:"single",isSelected:"single"===g.availabilityZones,onChange:F,isDisabled:!0}),l().createElement(m.ToggleGroupItem,{text:"Multi",buttonId:"multi",isSelected:"multi"===g.availabilityZones,onChange:F})))))},_=function(e){var t=e.isOpen,n=e.instance,r=e.onRequestDelete,c=e.onClose,o=(0,i.useState)(""),u=(0,a.Z)(o,2),s=u[0],d=u[1],p=(0,i.useState)(!1),f=(0,a.Z)(p,2),g=f[0],E=f[1],y=(0,i.useState)(""),b=(0,a.Z)(y,2),O=b[0],S=b[1],C=T().analyticsTrack;function w(){return Z.apply(this,arguments)}function Z(){return(Z=(0,v.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),S(""),C("delete-instance-form-submitted"),e.next=5,r(n.id);case 5:t=e.sent,E(!1),t.isAxiosError?S(t.message||"An unanticipated error occurred. Please try again. If this error persists, please contact support."):(d(""),c());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return n.name===s}return n?l().createElement(m.Modal,{variant:m.ModalVariant.small,title:"Delete instance?",isOpen:t,onClose:c,actions:[l().createElement(m.Button,{key:"createInstance",variant:"danger",onClick:w,isLoading:g,isDisabled:g||!P()},"Delete instance"),l().createElement(m.Button,{key:"cancel",variant:"link",onClick:c,isDisabled:g},"Cancel")]},l().createElement("div",{className:"pf-u-pb-md"},l().createElement("div",null,"This will permanently delete"," ",l().createElement("span",{className:"pf-u-font-weight-bold"},n.name),"."),l().createElement("div",null,"This action cannot be undone.")),l().createElement(m.Form,{onSubmit:function(e){e.preventDefault(),P()&&w()}},l().createElement(m.FormGroup,{label:"Confirmation",isRequired:!0,fieldId:"confirmationInstanceName"},l().createElement(m.TextInput,{isRequired:!0,type:"text",id:"confirmationInstanceName",name:"confirmationInstanceName",value:s,onChange:d})),l().createElement(m.HelperText,null,l().createElement(m.HelperTextItem,null,"Type ",l().createElement("span",{className:"pf-u-font-weight-bold"},n.name)," ","to confirm.")),O.length>0&&l().createElement(m.Alert,{isInline:!0,variant:m.AlertVariant.danger,title:O}))):null};var A=n(45331);const R=function(e){var t=e.isExpanded,n=e.onClose,r=e.instance,a=e.children;return l().createElement(m.Drawer,{isExpanded:t},l().createElement(m.DrawerContent,{panelContent:l().createElement(m.DrawerPanelContent,null,l().createElement(m.DrawerHead,null,l().createElement("div",null,l().createElement(m.TextContent,null,l().createElement(m.Text,{component:m.TextVariants.small},"Name")),l().createElement(m.TextContent,null,l().createElement(m.Text,{component:m.TextVariants.h2},null==r?void 0:r.name))),l().createElement(m.DrawerActions,null,l().createElement(m.DrawerCloseButton,{onClick:n}))),l().createElement(m.Divider,{component:"div"}),l().createElement(m.DrawerContentBody,null,r&&l().createElement(A.Z,{instance:r})))},a))};var z=n(15558),F=n(35451),N=n(84564),M=n(41942),G={accepted:"Request accepted",preparing:"Creation pending",provisioning:"Creation in progress",ready:"Ready",failed:"Failed",deprovision:"Deprovisioning",deleting:"Deleting"},V=Object.keys(G).map((function(e){return{value:e,label:G[e]}})),B={accepted:{message:G.accepted,component:l().createElement(M.ZP,null)},preparing:{message:G.preparing,component:l().createElement(M.ZP,null)},provisioning:{message:G.provisioning,component:l().createElement(m.Spinner,{isSVG:!0,size:"md"})},ready:{message:G.ready,component:l().createElement(F.ZP,{className:"pf-u-success-color-100"})},failed:{message:G.failed,component:l().createElement(N.ZP,{className:"pf-u-danger-color-100"})},deprovision:{message:G.deprovision,component:l().createElement(m.Spinner,{isSVG:!0,size:"md"})},deleting:{message:G.deleting,component:l().createElement(m.Spinner,{isSVG:!0,size:"md"})}};const q=function(e){var t=e.status,n=B[t]||{message:"N/A",component:null},r=n.message,a=n.component;return l().createElement(m.Flex,null,l().createElement(m.FlexItem,null,a),l().createElement(m.FlexItem,null,r))};var U=n(42982),W=n(45697),H=n.n(W),Q=n(8755);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,w.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){var t=e.filters,n=e.setFilters,r=(0,i.useState)("Name"),c=(0,a.Z)(r,2),o=c[0],u=c[1],s=(0,i.useState)(""),d=(0,a.Z)(s,2),p=d[0],v=d[1],g=(0,i.useState)(""),h=(0,a.Z)(g,2),E=h[0],y=h[1],b=(0,i.useState)(!1),O=(0,a.Z)(b,2),S=O[0],C=O[1],T=(0,i.useState)(!1),w=(0,a.Z)(T,2),x=w[0],k=w[1],L=(0,P.y)({provider:D.Zz}).data,j=(0,i.useMemo)((function(){return(null==L?void 0:L.items)||[]}),[L]);function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n((function(n){var r=$({},n),a=r[e.toLowerCase()].filter((function(e){return e!==t}));return 0===(null==a?void 0:a.length)?delete r[e.toLowerCase()]:r[e.toLowerCase()]=a,r}))}function A(e){n((function(t){var n=$({},t);return delete n[e.toLowerCase()],n}))}function R(e,t,r){var a=t.target.checked;n((function(t){var n=$({},t),i=t[e]||[],l=a?[].concat((0,U.Z)(i),[r]):i.filter((function(e){return e!==r}));return 0===l.length?delete n[e]:n[e]=l,n}))}return l().createElement(m.ToolbarToggleGroup,{toggleIcon:l().createElement(Q.ZP,null),breakpoint:"xl"},l().createElement(m.ToolbarGroup,{variant:"filter-group"},l().createElement(m.ToolbarItem,null,l().createElement(Z,{id:"region",value:o,handleSelect:function(e,t){u(t)}},l().createElement(m.SelectOption,{value:"Name"},"Name"),l().createElement(m.SelectOption,{value:"Region"},"Region"),l().createElement(m.SelectOption,{value:"Owner"},"Owner"),l().createElement(m.SelectOption,{value:"Status"},"Status"))),l().createElement(m.ToolbarFilter,{chips:t.name,deleteChip:_,deleteChipGroup:A,categoryName:"Name",className:"Name"!==o&&"pf-u-hidden"},l().createElement(m.ToolbarItem,null,l().createElement(m.InputGroup,null,l().createElement(m.TextInput,{id:"filterName",type:"text","aria-label":"Name",placeholder:"Filter by name",value:p,onChange:function(e){return v(e)}}),l().createElement(m.Button,{variant:"control","aria-label":"Search Name",onClick:function(){p&&n((function(e){var t=$({},e);return t.name=[p],t}))}},l().createElement(f.ZP,null))))),l().createElement(m.ToolbarFilter,{chips:t.region,deleteChip:_,deleteChipGroup:A,categoryName:"Region",className:"Region"!==o&&"pf-u-hidden"},l().createElement(m.ToolbarItem,null,l().createElement(m.Select,{variant:m.SelectVariant.checkbox,"aria-label":"Region",onToggle:C,onSelect:function(e,t){R("region",e,t)},selections:t.region,isOpen:S,placeholderText:"Filter by region"},j.map((function(e){return l().createElement(m.SelectOption,{key:e.id,value:e.id},(0,I.M)(e))}))))),l().createElement(m.ToolbarFilter,{chips:t.owner,deleteChip:_,deleteChipGroup:A,categoryName:"Owner",className:"Owner"!==o&&"pf-u-hidden"},l().createElement(m.ToolbarItem,null,l().createElement(m.InputGroup,null,l().createElement(m.TextInput,{id:"filterOwner",type:"text","aria-label":"Owner",placeholder:"Filter by owner",value:E,onChange:function(e){return y(e)}}),l().createElement(m.Button,{variant:"control","aria-label":"Search Owner",onClick:function(){E&&n((function(e){var t=$({},e);return t.owner=[E],t}))}},l().createElement(f.ZP,null))))),l().createElement(m.ToolbarFilter,{chips:t.status,deleteChip:_,deleteChipGroup:A,categoryName:"Status",className:"Status"!==o&&"pf-u-hidden"},l().createElement(m.ToolbarItem,null,l().createElement(m.Select,{variant:m.SelectVariant.checkbox,"aria-label":"Status",onToggle:k,onSelect:function(e,t){R("status",e,t)},selections:t.status,isOpen:x,placeholderText:"Filter by status"},V.map((function(e){return l().createElement(m.SelectOption,{key:e.label,value:e.label},e.label)})))))))}J.propTypes={filters:H().shape({name:H().string.isRequired,region:H().string.isRequired,owner:H().string.isRequired,status:H().string.isRequired}),setFilters:H().func.isRequired};const Y=J;function K(e,t){return Object.keys(e).filter((function(t){return e[t].length})).map((function(n){var r=e[n].map((function(e){var r,a,i=e;return"cloud_provider"===n?i=(0,D.xp)(e):"region"===n?i=(0,I.n)(e,t):"status"===n&&(r=e,i=null==(a=V.find((function(e){return e.label===r})))?void 0:a.value),"".concat(n," = ").concat(i)})).join(" or ");return"(".concat(r,")")})).join(" and ")||""}var ee=n(68025),te=n(48564),ne=["name","cloud_provider","region","owner","status","created_at"],re={field:"name",direction:"asc"};const ae=function(){var e,t,n,g,y=(0,c.useNavigate)(),C=T().analyticsTrack,w=function(){var e=(0,i.useState)(1),t=(0,a.Z)(e,2),n=t[0],r=t[1],l=(0,i.useState)(20),c=(0,a.Z)(l,2),o=c[0],u=c[1];return{page:n,perPage:o,onSetPage:function(e,t){r(t)},onPerPageSelect:function(e,t){u(t)}}}(),Z=w.page,I=w.perPage,x=w.onSetPage,k=w.onPerPageSelect,L=function(e){var t=e.sortFields,n=e.defaultSortOption,r=(0,i.useState)(),l=(0,a.Z)(r,2),c=l[0],o=l[1],u=(null==c?void 0:c.field)||n.field,s=(null==c?void 0:c.direction)||n.direction,m=(0,i.useState)({}),d=(0,a.Z)(m,2),p=d[0],f=d[1];return(0,i.useEffect)((function(){var e=t.reduce((function(e,t,n){return e[t]=n,e}),{});f(e)}),[t]),{sortOption:{field:u,direction:s},getSortParams:function(e){var t=p[e];return{sortBy:{index:u?p[u]:void 0,direction:s,defaultDirection:"desc"},onSort:function(t,n,r){o({field:e,direction:r})},columnIndex:t}}}}({sortFields:ne,defaultSortOption:re}),A=L.sortOption,F=L.getSortParams,N=(0,i.useState)({}),M=(0,a.Z)(N,2),G=M[0],V=M[1],B=(n=(0,b.Z)(),(0,E.useQuery)(["cloud_accounts"],(function(){return S(n)}))).data,U=(null==B||null===(e=B.cloudAccounts)||void 0===e?void 0:e.map((function(e){return e.cloudAccountId})))||[],W=(0,P.y)({provider:D.Zz}),H=W.data,Q=W.isFetching,X=(0,i.useMemo)((function(){return(null==H?void 0:H.items)||[]}),[H]),$=function(e){var t=e.refetchInterval,n=(0,b.Z)();return(0,E.useQuery)(["instances",e],(function(){return O(n,e)}),{refetchInterval:t})}({query:{page:Z,size:I,orderBy:"".concat(A.field," ").concat(A.direction),search:K(G,X)},refetchInterval:1e4}),J=$.data,ae=$.isFetching,ie=function(){var e=(0,E.useQueryClient)(),t=(0,b.Z)(),n=function(){var e=(0,v.Z)(h().mark((function e(n){var r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.post("/api/rhacs/v1/centrals?async=true",n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.useMutation)(n,{onSuccess:function(){e.invalidateQueries("instances")}})}(),le=function(){var e=(0,E.useQueryClient)(),t=(0,b.Z)(),n=function(){var e=(0,v.Z)(h().mark((function e(n){var r,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.delete("/api/rhacs/v1/centrals/".concat(n,"?async=true"));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,E.useMutation)(n,{onSuccess:function(){e.invalidateQueries("instances")}})}(),ce=(0,i.useState)(null),oe=(0,a.Z)(ce,2),ue=oe[0],se=oe[1],me=(0,i.useState)(null),de=(0,a.Z)(me,2),pe=de[0],fe=de[1],ve=(0,i.useState)(null),ge=(0,a.Z)(ve,2),he=ge[0],Ee=ge[1],ye=(null==J?void 0:J.items)||[],be=(ae||Q)&&!J,Oe=null!==(t=null==J?void 0:J.total)&&void 0!==t?t:0;function Se(){C("start-create-instance-form"),se({})}function Ce(){V({})}return(0,i.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appAction)||void 0===n||n.call(t,"instances-page")}),[]),g=0===ye.length&&0===Object.keys(G).length?l().createElement(m.EmptyState,null,l().createElement(m.EmptyStateIcon,{icon:p.ZP}),l().createElement(m.Title,{size:"lg",headingLevel:"h4"},"No ACS instances."),l().createElement(m.EmptyStateBody,null,"Create one to get started."),l().createElement(m.EmptyStatePrimary,null,l().createElement(m.Button,{variant:"primary",onClick:function(){return Se()}},"Create ACS instance"))):l().createElement(l().Fragment,null,l().createElement(m.Toolbar,{clearAllFilters:Ce},l().createElement(m.ToolbarContent,null,l().createElement(Y,{filters:G,setFilters:V}),l().createElement(m.ToolbarItem,null,l().createElement(m.Button,{variant:"primary",onClick:function(){return Se()}},"Create ACS instance")),0!==ye.length&&l().createElement(m.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},l().createElement(m.Pagination,{itemCount:Oe,perPage:I,page:Z,onSetPage:x,widgetId:"acs-instances-top-pagination",onPerPageSelect:k,isCompact:!0})))),l().createElement(d.TableComposable,{"aria-label":"ACS instances table"},l().createElement(d.Thead,null,l().createElement(d.Tr,null,l().createElement(d.Th,{sort:F("name")},"Name"),l().createElement(d.Th,{sort:F("cloud_provider")},"Cloud provider"),l().createElement(d.Th,{sort:F("region")},"Region"),l().createElement(d.Th,{sort:F("owner")},"Owner"),l().createElement(d.Th,{sort:F("status")},"Status"),l().createElement(d.Th,{sort:F("created_at")},"Time created"),l().createElement(d.Th,null))),l().createElement(d.Tbody,null,be&&l().createElement(d.Tr,null,l().createElement(d.Td,{colSpan:8},l().createElement(m.Bullseye,null,l().createElement(m.Spinner,null)))),!be&&0===ye.length&&l().createElement(d.Tr,null,l().createElement(d.Td,{colSpan:8},l().createElement(m.Bullseye,null,l().createElement(m.EmptyState,{variant:m.EmptyStateVariant.small},l().createElement(m.EmptyStateIcon,{icon:f.ZP}),l().createElement(m.Title,{headingLevel:"h2",size:"lg"},"No results found"),l().createElement(m.EmptyStateBody,null,"Clear all filters and try again."),l().createElement(m.Button,{variant:"link",onClick:Ce},"Clear all filters"))))),!be&&0!==ye.length&&ye.map((function(e){var t=(0,ee.n)("/instances/instance/".concat(e.id),ee.d);return l().createElement(d.Tr,{key:e.name,onRowClick:function(t){"button"!==t.target.getAttribute("type")&&"ready"===e.status&&Ee(e)},isRowSelected:(null==he?void 0:he.name)===(null==e?void 0:e.name)},l().createElement(d.Td,{dataLabel:"Name"},l().createElement(m.Button,{variant:"link",isInline:!0,isDisabled:"ready"!==e.status,component:function(e){return l().createElement(c.Link,(0,r.Z)({},e,{to:t}))}},e.name)),l().createElement(d.Td,{dataLabel:"Cloud provider"},(0,D.mt)(e.cloud_provider)),l().createElement(d.Td,{dataLabel:"Region"},l().createElement(te.Z,{id:e.region})),l().createElement(d.Td,{dataLabel:"Owner"},e.owner),l().createElement(d.Td,{dataLabel:"Status"},l().createElement(q,{status:e.status})),l().createElement(d.Td,{dataLabel:"Time created"},(0,z.c)(e.created_at)),l().createElement(d.Td,{isActionCell:!0},l().createElement(d.ActionsColumn,{items:[{title:"Details",onClick:function(e){e.preventDefault(),y(t)}},{title:"Delete",onClick:function(t){t.preventDefault(),fe(e)}}]})))})))),0!==ye.length&&l().createElement(m.Toolbar,null,l().createElement(m.ToolbarContent,null,l().createElement(m.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},l().createElement(m.Pagination,{itemCount:Oe,perPage:I,page:Z,onSetPage:x,widgetId:"acs-instances-bottom-pagination",onPerPageSelect:k}))))),l().createElement(R,{isExpanded:!!he,instance:he,onClose:function(){Ee(null)}},l().createElement(u.Z,null,l().createElement(s.Z,{title:"ACS Instances"})),l().createElement(o.ZP,null,l().createElement(m.Card,null,g),l().createElement(j,{isOpen:!!ue,onClose:function(){se(null)},onRequestCreate:function(e){return ie.mutateAsync({region:e.region,cloud_provider:e.cloud_provider,name:e.name,multi_az:"multi"===e.availabilityZones,cloud_account_id:e.cloud_account_id}).catch((function(e){return e}))},cloudAccountIds:U}),l().createElement(_,{instance:pe,isOpen:!!pe,onClose:function(){fe(null)},onRequestDelete:function(e){return le.mutateAsync(e).catch((function(e){return e}))}})))}},15705:(e,t,n)=>{"use strict";n.d(t,{LX:()=>i,Zz:()=>a,mt:()=>u,xp:()=>s});var r=n(4942),a="aws",i="us-east-1",l=(0,r.Z)({},a,"Amazon Web Services"),c=(0,r.Z)({},a,"AWS"),o=Object.keys(l).map((function(e){return{value:e,label:l[e]}}));function u(e){return c[e]?"Hosted by Red Hat (on ".concat(c[e],")"):"Hosted by Red Hat"}function s(e){var t=o.find((function(t){return t.label===e}));return null==t?void 0:t.value}},15558:(e,t,n)=>{"use strict";n.d(t,{F:()=>c,c:()=>l});var r=n(53651),a=n(12902),i=n(5480);function l(e){return(0,r.Z)((0,a.Z)(e),new Date,{addSuffix:!0})}function c(e){return(0,i.Z)((0,a.Z)(e),"MM/dd/yyyy | h:mm:ss a")}},12699:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(80129),a=n.n(r);function i(e){return a().stringify(e,{encode:!1})}},60509:(e,t,n)=>{"use strict";function r(e,t){var n=null==t?void 0:t.find((function(t){return a(t).startsWith(e)}));return null==n?void 0:n.id}function a(e){return e?e.display_name||e.id:""}n.d(t,{M:()=>a,n:()=>r})},92703:(e,t,n)=>{"use strict";var r=n(50414);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,l){if(l!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},24654:()=>{},30907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},70885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(40181);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return i}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},42982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(30907),a=n(40181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},40181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(30907);function a(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}}]);
//# sourceMappingURL=../sourcemaps/InstancesPage.0f12e2723eb25157fb9137aa5d704bbf.js.map