(self.webpackChunkacs=self.webpackChunkacs||[]).push([[996],{35183:(e,t,n)=>{"use strict";t.IU=t.ap=t.Jh=void 0;const r=n(70655),a=r.__importStar(n(93264));var i;!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(i=t.Jh||(t.Jh={})),t.ap=e=>{switch(e){case i.sm:return"1em";case i.md:return"1.5em";case i.lg:return"2em";case i.xl:return"3em";default:return"1em"}};let l=0;t.IU=function({name:e,xOffset:n=0,yOffset:c=0,width:o,height:u,svgPath:s}){var m;return m=class extends a.Component{constructor(){super(...arguments),this.id="icon-title-"+l++}render(){const e=this.props,{size:i,color:l,title:m,noVerticalAlign:d}=e,p=r.__rest(e,["size","color","title","noVerticalAlign"]),f=Boolean(m),v=(0,t.ap)(i),g=-.125*Number.parseFloat(v),h=d?null:{verticalAlign:`${g}em`},E=[n,c,o,u].join(" ");return a.createElement("svg",Object.assign({style:h,fill:l,height:v,width:v,viewBox:E,"aria-labelledby":f?this.id:null,"aria-hidden":!f||null,role:"img"},p),f&&a.createElement("title",{id:this.id},m),a.createElement("path",{d:s}))}},m.displayName=e,m.defaultProps={color:"currentColor",size:i.sm,noVerticalAlign:!1},m}},35451:(e,t,n)=>{"use strict";t.GR={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.rE=n(35183).IU(t.GR),t.ZP=t.rE},96733:(e,t,n)=>{"use strict";t.Z1={name:"CubesIcon",height:512,width:512,svgPath:"M488.6 250.2L392 214V105.5c0-15-9.3-28.4-23.4-33.7l-100-37.5c-8.1-3.1-17.1-3.1-25.3 0l-100 37.5c-14.1 5.3-23.4 18.7-23.4 33.7V214l-96.6 36.2C9.3 255.5 0 268.9 0 283.9V394c0 13.6 7.7 26.1 19.9 32.2l100 50c10.1 5.1 22.1 5.1 32.2 0l103.9-52 103.9 52c10.1 5.1 22.1 5.1 32.2 0l100-50c12.2-6.1 19.9-18.6 19.9-32.2V283.9c0-15-9.3-28.4-23.4-33.7zM358 214.8l-85 31.9v-68.2l85-37v73.3zM154 104.1l102-38.2 102 38.2v.6l-102 41.4-102-41.4v-.6zm84 291.1l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6zm240 112l-85 42.5v-79.1l85-38.8v75.4zm0-112l-102 41.4-102-41.4v-.6l102-38.2 102 38.2v.6z",yOffset:0,xOffset:0},t.TF=n(35183).IU(t.Z1),t.ZP=t.TF},84564:(e,t,n)=>{"use strict";t.MX={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.$O=n(35183).IU(t.MX),t.ZP=t.$O},8755:(e,t,n)=>{"use strict";t._t={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0},t.k1=n(35183).IU(t._t),t.ZP=t.k1},41942:(e,t,n)=>{"use strict";t.yR={name:"PendingIcon",height:1024,width:1024,svgPath:"M512.1,895.9 C300.3,895.9 128.1,723.8 128.1,511.9 C128.1,300.2 300.3,127.9 512.1,127.9 C723.8,127.9 896,300.2 896.1,511.9 C896.1,723.7 723.8,895.9 512.1,895.9 M512.1,0 C229.7,0 0,229.7 0,512 C0,794.3 229.7,1024 512.1,1024 C794.3,1024 1024,794.3 1024,512 C1024,229.7 794.3,0 512.1,0 M704,288 L704,272 C704,263.2 696.8,256 688,256 L336,256 C327.2,256 320,263.2 320,272 L320,288 C320,447 480,449 480,512 C480,575 320,575 320,736 L320,752 C320,760.8 327.2,768 336,768 L688,768 C696.8,768 704,760.8 704,752 L704,736 C704,576 544,577 544,512 C544,447 704,448 704,288 M603.9,704 L420.3,704 C417.3,704 418.2,695 419.4,686.8 C426.8,634.5 480.1,617.4 495.2,612.3 C512.3,606.6 512.3,606.6 528.9,612.3 C544,617.6 597.6,635.4 604.8,687 C605.9,695.2 606.9,704 603.9,704",yOffset:0,xOffset:0},t.tu=n(35183).IU(t.yR),t.ZP=t.tu},71070:(e,t,n)=>{"use strict";t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=n(35183).IU(t.xQ),t.ZP=t.W1},45331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(93264),a=n.n(r),i=n(21242),l=n(15558),c=n(15705),o=n(48564);const u=function(e){var t=e.instance;return a().createElement(i.DescriptionList,{isHorizontal:!0},a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Cloud provider"),a().createElement(i.DescriptionListDescription,null,(0,c.mt)(t.cloud_provider))),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Region"),a().createElement(i.DescriptionListDescription,null,a().createElement(o.Z,{id:t.region}))),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"ID"),a().createElement(i.DescriptionListDescription,null,t.id)),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Owner"),a().createElement(i.DescriptionListDescription,null,t.owner)),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Time created"),a().createElement(i.DescriptionListDescription,null,(0,l.F)(t.created_at))),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Time updated"),a().createElement(i.DescriptionListDescription,null,(0,l.F)(t.updated_at))),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Central API endpoint (Sensor mTLS)"),a().createElement(i.DescriptionListDescription,null,t.centralDataURL||"-")),a().createElement(i.DescriptionListGroup,null,a().createElement(i.DescriptionListTerm,null,"Central instance (UI, roxctl)"),a().createElement(i.DescriptionListDescription,null,t.centralUIURL||"-")))}},48564:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(93264),a=n.n(r),i=n(45759),l=n(15705),c=n(60509);function o(e){var t=e.id,n=(0,i.y)({provider:l.Zz}).data,o=(0,r.useMemo)((function(){return null==n?void 0:n.items.find((function(e){return e.id===t}))}),[n,t]);return a().createElement("span",null,o?(0,c.M)(o):t)}},45759:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});var r=n(4942),a=n(15861),i=n(87757),l=n.n(i),c=n(88767),o=n(22512),u=n(12699);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=function(){var e=(0,a.Z)(l().mark((function e(t){var n,r,a,i,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.provider,r=t.instanceType,a=(0,u.W)({instance_type:r}),e.next=4,o.Z.get("/api/rhacs/v1/cloud_providers/".concat(n,"/regions?").concat(a));case 4:return i=e.sent,c=i.data,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e,t){return(0,c.useQuery)(function(e){return["cloud_regions",e]}(e),(function(){return m(e)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({staleTime:1/0},t))}},93394:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var r=n(87462);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return i}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(93264),o=n.n(c),u=n(51663),s=n(14748),m=n(89376),d=n(39173),p=n(21242),f=n(92820),v=n(96733),g=n(71070);var h=n(15861),E=n(87757),y=n.n(E),b=n(88767),O=n(22512),S=n(12699),C=function(){var e=(0,h.Z)(y().mark((function e(t){var n,r,a,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=(0,S.W)(n),e.next=4,O.Z.get("/api/rhacs/v1/centrals?".concat(r));case 4:return a=e.sent,i=a.data,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,h.Z)(y().mark((function e(t){var n,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Z.post("/api/rhacs/v1/centrals?async=true",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,h.Z)(y().mark((function e(t){var n,r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Z.delete("/api/rhacs/v1/centrals/".concat(t,"?async=true"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(){var e=(0,b.useQueryClient)();return(0,b.useMutation)(w,{onSuccess:function(){e.invalidateQueries("instances")}})}var D=function(){var e=(0,h.Z)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Z.get("/api/rhacs/v1/cloud_accounts");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=n(55140);const x=function(){var e=(0,I.Z)().analytics;return{analyticsTrack:function(t){localStorage.getItem("chrome:analytics:dev"),e.track(t)}}};var Z=n(4942);const k=function(e){var t=e.toggleIcon,n=e.id,r=e.value,a=e.handleSelect,i=e.isDisabled,u=void 0!==i&&i,s=e.children,m=e.direction,d=void 0===m?"down":m,f=e.isCreatable,v=void 0!==f&&f,g=e.variant,h=void 0===g?null:g,E=e.placeholderText,y=void 0===E?"":E,b=e.menuAppendTo,O=void 0===b?void 0:b,S=l((0,c.useState)(!1),2),C=S[0],T=S[1],w="typeahead"===h?p.SelectVariant.typeahead:p.SelectVariant.single;return o().createElement(p.Select,{variant:w,toggleIcon:t,id:n,isDisabled:u,isOpen:C,onSelect:function(e,t){T(!1),a(n,t)},onToggle:T,selections:r,direction:d,isCreatable:v,placeholderText:y,toggleId:n,menuAppendTo:O},s)};var L=n(45759),j=n(15705),_=n(60509);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={name:"",cloud_provider:j.Zz,region:j.LX,availabilityZones:"multi",cloud_account_id:""};const F=function(e){var t=e.isOpen,n=e.onClose,r=e.onRequestCreate,a=e.cloudAccountIds,i=l((0,c.useState)(null),2),u=i[0],s=i[1],m=l((0,c.useState)(z),2),d=m[0],f=m[1],v=l((0,c.useState)(!1),2),g=v[0],E=v[1],b=x().analyticsTrack;(0,c.useEffect)((function(){""===d.cloud_account_id&&1===a.length&&f((function(e){return R(R({},e),{},{cloud_account_id:a[0]})}))}),[a]);var O=(0,L.y)({provider:j.Zz}),S=O.data,C=O.isFetching,T=(0,c.useMemo)((function(){return(null==S?void 0:S.items)||[]}),[S]),w=(0,c.useMemo)((function(){return T.filter((function(e){return e.enabled}))}),[T]);function P(){s(null),f(z),E(!1),n()}function D(){return(D=(0,h.Z)(y().mark((function e(){var t,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b("create-instance-form-submitted"),E(!0),e.next=4,r(d);case 4:t=e.sent,E(!1),t instanceof Error?(a=t.response.data.reason,s(a)):(f(z),n());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){var n=t.currentTarget.id;f((function(e){return R(R({},e),{},{availabilityZones:n})}))}return o().createElement(p.Modal,{variant:p.ModalVariant.small,title:"Create ACS instance",isOpen:t,onClose:P,actions:[o().createElement(p.Button,{key:"createInstance",variant:"primary",onClick:function(){return D.apply(this,arguments)},isLoading:g,isDisabled:g||!(null!=d&&d.name)},"Create instance"),o().createElement(p.Button,{key:"cancel",variant:"link",onClick:P,isDisabled:g},"Cancel")]},u&&o().createElement("div",{className:"pf-u-mb-md"},o().createElement(p.Alert,{variant:"danger",title:u})),o().createElement(p.Form,null,o().createElement(p.FormGroup,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Must start with a letter and end with a letter or number. Valid characters include lowercase letters from a to z, numbers from 0 to 9, and hyphens ( - )."},o().createElement(p.TextInput,{isRequired:!0,type:"text",id:"name",name:"name",value:d.name,onChange:function(e){f((function(t){return R(R({},t),{},{name:e})}))}})),o().createElement(p.FormGroup,{label:"Cloud provider",isRequired:!0,fieldId:"cloud_provider"},o().createElement(p.Tile,{title:"Amazon Web Services",isSelected:d.cloud_provider===j.Zz})),a.length>1&&o().createElement(p.FormGroup,{label:"AWS account number",fieldId:"cloud_account_id"},o().createElement(k,{id:"cloud_account_id",value:d.cloud_account_id,handleSelect:function(e,t){f((function(e){return R(R({},e),{},{cloud_account_id:t})}))},placeholderText:"Select an AWS Account",menuAppendTo:"parent"},a.map((function(e){return o().createElement(p.SelectOption,{key:e,value:e},e)})))),o().createElement(p.FormGroup,{label:"Cloud region",isRequired:!0,fieldId:"region"},o().createElement(k,{id:"region",isDisabled:C,value:d.region,handleSelect:function(e,t){f((function(e){return R(R({},e),{},{region:t})}))}},o().createElement(p.SelectOption,{value:"",isPlaceholder:!0,isDisabled:!0},"Choose a region"),w.map((function(e){return o().createElement(p.SelectOption,{key:e.id,value:e.id},(0,_.M)(e))})))),o().createElement(p.FormGroup,{label:"Availability zones",isRequired:!0,fieldId:"availabilityZones"},o().createElement(p.ToggleGroup,{"aria-label":"Availability Zones"},o().createElement(p.ToggleGroupItem,{text:"Single",buttonId:"single",isSelected:"single"===d.availabilityZones,onChange:I,isDisabled:!0}),o().createElement(p.ToggleGroupItem,{text:"Multi",buttonId:"multi",isSelected:"multi"===d.availabilityZones,onChange:I})))))},N=function(e){var t=e.isOpen,n=e.instance,r=e.onRequestDelete,a=e.onClose,i=l((0,c.useState)(""),2),u=i[0],s=i[1],m=l((0,c.useState)(!1),2),d=m[0],f=m[1],v=l((0,c.useState)(""),2),g=v[0],E=v[1],b=x().analyticsTrack;function O(){return S.apply(this,arguments)}function S(){return(S=(0,h.Z)(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),E(""),b("delete-instance-form-submitted"),e.next=5,r(n.id);case 5:t=e.sent,f(!1),t.isAxiosError?E(t.message||"An unanticapted error occurred. Please try again. If this error persists, please contact support."):(s(""),a());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return n.name===u}return n?o().createElement(p.Modal,{variant:p.ModalVariant.small,title:"Delete instance?",isOpen:t,onClose:a,actions:[o().createElement(p.Button,{key:"createInstance",variant:"danger",onClick:O,isLoading:d,isDisabled:d||!C()},"Delete instance"),o().createElement(p.Button,{key:"cancel",variant:"link",onClick:a,isDisabled:d},"Cancel")]},o().createElement("div",{className:"pf-u-pb-md"},o().createElement("div",null,"This will permanently delete"," ",o().createElement("span",{className:"pf-u-font-weight-bold"},n.name),"."),o().createElement("div",null,"This action cannot be undone.")),o().createElement(p.Form,{onSubmit:function(e){e.preventDefault(),C()&&O()}},o().createElement(p.FormGroup,{label:"Confirmation",isRequired:!0,fieldId:"confirmationInstanceName"},o().createElement(p.TextInput,{isRequired:!0,type:"text",id:"confirmationInstanceName",name:"confirmationInstanceName",value:u,onChange:s})),o().createElement(p.HelperText,null,o().createElement(p.HelperTextItem,null,"Type ",o().createElement("span",{className:"pf-u-font-weight-bold"},n.name)," ","to confirm.")),g.length>0&&o().createElement(p.Alert,{isInline:!0,variant:p.AlertVariant.danger,title:g}))):null};var M=n(45331);const G=function(e){var t=e.isExpanded,n=e.onClose,r=e.instance,a=e.children;return o().createElement(p.Drawer,{isExpanded:t},o().createElement(p.DrawerContent,{panelContent:o().createElement(p.DrawerPanelContent,null,o().createElement(p.DrawerHead,null,o().createElement("div",null,o().createElement(p.TextContent,null,o().createElement(p.Text,{component:p.TextVariants.small},"Name")),o().createElement(p.TextContent,null,o().createElement(p.Text,{component:p.TextVariants.h2},null==r?void 0:r.name))),o().createElement(p.DrawerActions,null,o().createElement(p.DrawerCloseButton,{onClick:n}))),o().createElement(p.Divider,{component:"div"}),o().createElement(p.DrawerContentBody,null,r&&o().createElement(M.Z,{instance:r})))},a))};var V=n(15558),B=n(35451),q=n(84564),U=n(41942),W={accepted:"Request accepted",preparing:"Creation pending",provisioning:"Creation in progress",ready:"Ready",failed:"Failed",deprovision:"Deprovisioning",deleting:"Deleting"},H=Object.keys(W).map((function(e){return{value:e,label:W[e]}})),Q={accepted:{message:W.accepted,component:o().createElement(U.ZP,null)},preparing:{message:W.preparing,component:o().createElement(U.ZP,null)},provisioning:{message:W.provisioning,component:o().createElement(p.Spinner,{isSVG:!0,size:"md"})},ready:{message:W.ready,component:o().createElement(B.ZP,{className:"pf-u-success-color-100"})},failed:{message:W.failed,component:o().createElement(q.ZP,{className:"pf-u-danger-color-100"})},deprovision:{message:W.deprovision,component:o().createElement(p.Spinner,{isSVG:!0,size:"md"})},deleting:{message:W.deleting,component:o().createElement(p.Spinner,{isSVG:!0,size:"md"})}};const X=function(e){var t=e.status,n=Q[t]||{message:"N/A",component:null},r=n.message,a=n.component;return o().createElement(p.Flex,null,o().createElement(p.FlexItem,null,a),o().createElement(p.FlexItem,null,r))};var $=n(45697),J=n.n($),Y=n(8755);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=e.filters,n=e.setFilters,r=l((0,c.useState)("Name"),2),u=r[0],s=r[1],m=l((0,c.useState)(""),2),d=m[0],f=m[1],v=l((0,c.useState)(""),2),h=v[0],E=v[1],y=l((0,c.useState)(!1),2),b=y[0],O=y[1],S=l((0,c.useState)(!1),2),C=S[0],T=S[1],w=(0,L.y)({provider:j.Zz}).data,P=(0,c.useMemo)((function(){return(null==w?void 0:w.items)||[]}),[w]);function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n((function(n){var r=ee({},n),a=r[e.toLowerCase()].filter((function(e){return e!==t}));return 0===(null==a?void 0:a.length)?delete r[e.toLowerCase()]:r[e.toLowerCase()]=a,r}))}function I(e){n((function(t){var n=ee({},t);return delete n[e.toLowerCase()],n}))}function x(e,t,r){var l=t.target.checked;n((function(t){var n,c=ee({},t),o=t[e]||[],u=l?[].concat(function(e){if(Array.isArray(e))return a(e)}(n=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||i(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]):o.filter((function(e){return e!==r}));return 0===u.length?delete c[e]:c[e]=u,c}))}return o().createElement(p.ToolbarToggleGroup,{toggleIcon:o().createElement(Y.ZP,null),breakpoint:"xl"},o().createElement(p.ToolbarGroup,{variant:"filter-group"},o().createElement(p.ToolbarItem,null,o().createElement(k,{id:"region",value:u,handleSelect:function(e,t){s(t)}},o().createElement(p.SelectOption,{value:"Name"},"Name"),o().createElement(p.SelectOption,{value:"Region"},"Region"),o().createElement(p.SelectOption,{value:"Owner"},"Owner"),o().createElement(p.SelectOption,{value:"Status"},"Status"))),o().createElement(p.ToolbarFilter,{chips:t.name,deleteChip:D,deleteChipGroup:I,categoryName:"Name",className:"Name"!==u&&"pf-u-hidden"},o().createElement(p.ToolbarItem,null,o().createElement(p.InputGroup,null,o().createElement(p.TextInput,{id:"filterName",type:"text","aria-label":"Name",placeholder:"Filter by name",value:d,onChange:function(e){return f(e)}}),o().createElement(p.Button,{variant:"control","aria-label":"Search Name",onClick:function(){d&&n((function(e){var t=ee({},e);return t.name=[d],t}))}},o().createElement(g.ZP,null))))),o().createElement(p.ToolbarFilter,{chips:t.region,deleteChip:D,deleteChipGroup:I,categoryName:"Region",className:"Region"!==u&&"pf-u-hidden"},o().createElement(p.ToolbarItem,null,o().createElement(p.Select,{variant:p.SelectVariant.checkbox,"aria-label":"Region",onToggle:O,onSelect:function(e,t){x("region",e,t)},selections:t.region,isOpen:b,placeholderText:"Filter by region"},P.map((function(e){return o().createElement(p.SelectOption,{key:e.id,value:e.id},(0,_.M)(e))}))))),o().createElement(p.ToolbarFilter,{chips:t.owner,deleteChip:D,deleteChipGroup:I,categoryName:"Owner",className:"Owner"!==u&&"pf-u-hidden"},o().createElement(p.ToolbarItem,null,o().createElement(p.InputGroup,null,o().createElement(p.TextInput,{id:"filterOwner",type:"text","aria-label":"Owner",placeholder:"Filter by owner",value:h,onChange:function(e){return E(e)}}),o().createElement(p.Button,{variant:"control","aria-label":"Search Owner",onClick:function(){h&&n((function(e){var t=ee({},e);return t.owner=[h],t}))}},o().createElement(g.ZP,null))))),o().createElement(p.ToolbarFilter,{chips:t.status,deleteChip:D,deleteChipGroup:I,categoryName:"Status",className:"Status"!==u&&"pf-u-hidden"},o().createElement(p.ToolbarItem,null,o().createElement(p.Select,{variant:p.SelectVariant.checkbox,"aria-label":"Status",onToggle:T,onSelect:function(e,t){x("status",e,t)},selections:t.status,isOpen:C,placeholderText:"Filter by status"},H.map((function(e){return o().createElement(p.SelectOption,{key:e.label,value:e.label},e.label)})))))))}te.propTypes={filters:J().shape({name:J().string.isRequired,region:J().string.isRequired,owner:J().string.isRequired,status:J().string.isRequired}),setFilters:J().func.isRequired};const ne=te;function re(e,t){return Object.keys(e).filter((function(t){return e[t].length})).map((function(n){var r=e[n].map((function(e){var r,a,i=e;return"cloud_provider"===n?i=(0,j.xp)(e):"region"===n?i=(0,_.n)(e,t):"status"===n&&(r=e,i=null==(a=H.find((function(e){return e.label===r})))?void 0:a.value),"".concat(n," = ").concat(i)})).join(" or ");return"(".concat(r,")")})).join(" and ")||""}var ae=n(68025),ie=n(48564),le=["name","cloud_provider","region","owner","status","created_at"],ce={field:"name",direction:"asc"};const oe=function(){var e,t,n,a,i,h,E=(0,u.useNavigate)(),y=x().analyticsTrack,O=function(){var e=l((0,c.useState)(1),2),t=e[0],n=e[1],r=l((0,c.useState)(20),2),a=r[0],i=r[1];return{page:t,perPage:a,onSetPage:function(e,t){n(t)},onPerPageSelect:function(e,t){i(t)}}}(),S=O.page,w=O.perPage,I=O.onSetPage,Z=O.onPerPageSelect,k=function(e){var t=e.sortFields,n=e.defaultSortOption,r=l((0,c.useState)(),2),a=r[0],i=r[1],o=(null==a?void 0:a.field)||n.field,u=(null==a?void 0:a.direction)||n.direction,s=l((0,c.useState)({}),2),m=s[0],d=s[1];return(0,c.useEffect)((function(){var e=t.reduce((function(e,t,n){return e[t]=n,e}),{});d(e)}),[t]),{sortOption:{field:o,direction:u},getSortParams:function(e){var t=m[e];return{sortBy:{index:o?m[o]:void 0,direction:u,defaultDirection:"desc"},onSort:function(t,n,r){i({field:e,direction:r})},columnIndex:t}}}}({sortFields:le,defaultSortOption:ce}),_=k.sortOption,A=k.getSortParams,R=l((0,c.useState)({}),2),z=R[0],M=R[1],B=(0,b.useQuery)(["cloud_accounts"],(function(){return D()})).data,q=(null==B||null===(e=B.cloudAccounts)||void 0===e?void 0:e.map((function(e){return e.cloudAccountId})))||[],U=(0,L.y)({provider:j.Zz}),W=U.data,H=U.isFetching,Q=(0,c.useMemo)((function(){return(null==W?void 0:W.items)||[]}),[W]),$=(a=(n={query:{page:S,size:w,orderBy:"".concat(_.field," ").concat(_.direction),search:re(z,Q)},refetchInterval:1e4}).refetchInterval,(0,b.useQuery)(["instances",n],(function(){return C(n)}),{refetchInterval:a})),J=$.data,Y=$.isFetching,K=(i=(0,b.useQueryClient)(),(0,b.useMutation)(T,{onSuccess:function(){i.invalidateQueries("instances")}})),ee=P(),te=l((0,c.useState)(null),2),oe=te[0],ue=te[1],se=l((0,c.useState)(null),2),me=se[0],de=se[1],pe=l((0,c.useState)(null),2),fe=pe[0],ve=pe[1],ge=(null==J?void 0:J.items)||[],he=(Y||H)&&!J,Ee=null!==(t=null==J?void 0:J.total)&&void 0!==t?t:0;function ye(){y("start-create-instance-form"),ue({})}function be(){M({})}return(0,c.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appAction)||void 0===n||n.call(t,"instances-page")}),[]),h=0===ge.length&&0===Object.keys(z).length?o().createElement(p.EmptyState,null,o().createElement(p.EmptyStateIcon,{icon:v.ZP}),o().createElement(p.Title,{size:"lg",headingLevel:"h4"},"No ACS instances."),o().createElement(p.EmptyStateBody,null,"Create one to get started."),o().createElement(p.EmptyStatePrimary,null,o().createElement(p.Button,{variant:"primary",onClick:function(){return ye()}},"Create ACS instance"))):o().createElement(o().Fragment,null,o().createElement(p.Toolbar,{clearAllFilters:be},o().createElement(p.ToolbarContent,null,o().createElement(ne,{filters:z,setFilters:M}),o().createElement(p.ToolbarItem,null,o().createElement(p.Button,{variant:"primary",onClick:function(){return ye()}},"Create ACS instance")),0!==ge.length&&o().createElement(p.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},o().createElement(p.Pagination,{itemCount:Ee,perPage:w,page:S,onSetPage:I,widgetId:"acs-instances-top-pagination",onPerPageSelect:Z,isCompact:!0})))),o().createElement(f.TableComposable,{"aria-label":"ACS instances table"},o().createElement(f.Thead,null,o().createElement(f.Tr,null,o().createElement(f.Th,{sort:A("name")},"Name"),o().createElement(f.Th,{sort:A("cloud_provider")},"Cloud provider"),o().createElement(f.Th,{sort:A("region")},"Region"),o().createElement(f.Th,{sort:A("owner")},"Owner"),o().createElement(f.Th,{sort:A("status")},"Status"),o().createElement(f.Th,{sort:A("created_at")},"Time created"),o().createElement(f.Th,null))),o().createElement(f.Tbody,null,he&&o().createElement(f.Tr,null,o().createElement(f.Td,{colSpan:8},o().createElement(p.Bullseye,null,o().createElement(p.Spinner,null)))),!he&&0===ge.length&&o().createElement(f.Tr,null,o().createElement(f.Td,{colSpan:8},o().createElement(p.Bullseye,null,o().createElement(p.EmptyState,{variant:p.EmptyStateVariant.small},o().createElement(p.EmptyStateIcon,{icon:g.ZP}),o().createElement(p.Title,{headingLevel:"h2",size:"lg"},"No results found"),o().createElement(p.EmptyStateBody,null,"Clear all filters and try again."),o().createElement(p.Button,{variant:"link",onClick:be},"Clear all filters"))))),!he&&0!==ge.length&&ge.map((function(e){var t=(0,ae.n)("/instances/instance/".concat(e.id),ae.d);return o().createElement(f.Tr,{key:e.name,onRowClick:function(t){"button"!==t.target.getAttribute("type")&&"ready"===e.status&&ve(e)},isRowSelected:(null==fe?void 0:fe.name)===(null==e?void 0:e.name)},o().createElement(f.Td,{dataLabel:"Name"},o().createElement(p.Button,{variant:"link",isInline:!0,isDisabled:"ready"!==e.status,component:function(e){return o().createElement(u.Link,(0,r.Z)({},e,{to:t}))}},e.name)),o().createElement(f.Td,{dataLabel:"Cloud provider"},(0,j.mt)(e.cloud_provider)),o().createElement(f.Td,{dataLabel:"Region"},o().createElement(ie.Z,{id:e.region})),o().createElement(f.Td,{dataLabel:"Owner"},e.owner),o().createElement(f.Td,{dataLabel:"Status"},o().createElement(X,{status:e.status})),o().createElement(f.Td,{dataLabel:"Time created"},(0,V.c)(e.created_at)),o().createElement(f.Td,{isActionCell:!0},o().createElement(f.ActionsColumn,{items:[{title:"Details",onClick:function(e){e.preventDefault(),E(t)}},{title:"Delete",onClick:function(t){t.preventDefault(),de(e)}}]})))})))),0!==ge.length&&o().createElement(p.Toolbar,null,o().createElement(p.ToolbarContent,null,o().createElement(p.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},o().createElement(p.Pagination,{itemCount:Ee,perPage:w,page:S,onSetPage:I,widgetId:"acs-instances-bottom-pagination",onPerPageSelect:Z}))))),o().createElement(G,{isExpanded:!!fe,instance:fe,onClose:function(){ve(null)}},o().createElement(m.Z,null,o().createElement(d.Z,{title:"ACS Instances"})),o().createElement(s.ZP,null,o().createElement(p.Card,null,h),o().createElement(F,{isOpen:!!oe,onClose:function(){ue(null)},onRequestCreate:function(e){return K.mutateAsync({region:e.region,cloud_provider:e.cloud_provider,name:e.name,multi_az:"multi"===e.availabilityZones,cloud_account_id:e.cloud_account_id}).catch((function(e){return e}))},cloudAccountIds:q}),o().createElement(N,{instance:me,isOpen:!!me,onClose:function(){de(null)},onRequestDelete:function(e){return ee.mutateAsync(e).catch((function(e){return e}))}})))}},22512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,a,i=n(4942),l=n(15861),c=n(87757),o=n.n(c),u=n(9669),s=n.n(u),m=n(34155);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f,v=null!==(r=m)&&void 0!==m&&null!==(a=r.env)&&void 0!==a?"https://api.openshift.com":"https://api.stage.openshift.com";const g=((f=s().create()).interceptors.request.use(function(){var e=(0,l.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return e.next=4,insights.chrome.auth.getToken();case 4:return n=e.sent,r=t.baseURL||v,a=p(p({},t),{},{url:"".concat(r).concat(t.url)}),n&&(a.headers=p(p({},a.headers),{},{Authorization:"Bearer ".concat(n)})),delete a.customHost,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f)},15705:(e,t,n)=>{"use strict";n.d(t,{LX:()=>i,Zz:()=>a,mt:()=>u,xp:()=>s});var r=n(4942),a="aws",i="us-east-1",l=(0,r.Z)({},a,"Amazon Web Services"),c=(0,r.Z)({},a,"AWS"),o=Object.keys(l).map((function(e){return{value:e,label:l[e]}}));function u(e){return c[e]?"Hosted by Red Hat (on ".concat(c[e],")"):"Hosted by Red Hat"}function s(e){var t=o.find((function(t){return t.label===e}));return null==t?void 0:t.value}},15558:(e,t,n)=>{"use strict";n.d(t,{F:()=>c,c:()=>l});var r=n(53651),a=n(12902),i=n(5480);function l(e){return(0,r.Z)((0,a.Z)(e),new Date,{addSuffix:!0})}function c(e){return(0,i.Z)((0,a.Z)(e),"MM/dd/yyyy | h:mm:ss a")}},12699:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(80129),a=n.n(r);function i(e){return a().stringify(e,{encode:!1})}},60509:(e,t,n)=>{"use strict";function r(e,t){var n=null==t?void 0:t.find((function(t){return a(t).startsWith(e)}));return null==n?void 0:n.id}function a(e){return e?e.display_name||e.id:""}n.d(t,{M:()=>a,n:()=>r})},92703:(e,t,n)=>{"use strict";var r=n(50414);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,l){if(l!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},24654:()=>{}}]);