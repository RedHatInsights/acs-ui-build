(self.webpackChunkacs=self.webpackChunkacs||[]).push([[996],{45331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(93264),a=n.n(r),l=n(70943),i=n(15558),c=n(15705),o=n(60509);const u=function(e){var t=e.instance;return a().createElement(l.DescriptionList,{isHorizontal:!0},a().createElement(l.DescriptionListGroup,null,a().createElement(l.DescriptionListTerm,null,"Cloud provider"),a().createElement(l.DescriptionListDescription,null,(0,c.mt)(t.cloud_provider))),a().createElement(l.DescriptionListGroup,null,a().createElement(l.DescriptionListTerm,null,"Region"),a().createElement(l.DescriptionListDescription,null,(0,o.pP)(t.region))),a().createElement(l.DescriptionListGroup,null,a().createElement(l.DescriptionListTerm,null,"ID"),a().createElement(l.DescriptionListDescription,null,t.id)),a().createElement(l.DescriptionListGroup,null,a().createElement(l.DescriptionListTerm,null,"Owner"),a().createElement(l.DescriptionListDescription,null,t.owner)),a().createElement(l.DescriptionListGroup,null,a().createElement(l.DescriptionListTerm,null,"Time created"),a().createElement(l.DescriptionListDescription,null,(0,i.F)(t.created_at))),a().createElement(l.DescriptionListGroup,null,a().createElement(l.DescriptionListTerm,null,"Time updated"),a().createElement(l.DescriptionListDescription,null,(0,i.F)(t.updated_at))),a().createElement(l.DescriptionListGroup,null,a().createElement(l.DescriptionListTerm,null,"Central API Endpoint"),a().createElement(l.DescriptionListDescription,null,t.centralDataURL)),a().createElement(l.DescriptionListGroup,null,a().createElement(l.DescriptionListTerm,null,"Central UI"),a().createElement(l.DescriptionListDescription,null,t.centralUIURL)))}},70391:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(93264),a=n.n(r),l=n(80123),i=n(39173),c=n(14748),o=n(16530),u=n(70943),s=n(87462),m=n(45987),d=["children","to"];const p=function(e){var t=e.children,n=e.to,r=(0,m.Z)(e,d);return a().createElement(u.BreadcrumbItem,(0,s.Z)({},r,{render:function(e){var r=e.className,l=e.ariaCurrent;return a().createElement(o.Link,{className:r,"aria-current":l,to:n},t)}}))};var f=n(15861),E=n(87757),v=n.n(E),g=n(88767),h=n(22512),b=function(){var e=(0,f.Z)(v().mark((function e(t){var n,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.get("/api/rhacs/v1/centrals/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=n(45331);const S=function(){var e,t=(e=(0,o.useParams)().instanceId,(0,g.useQuery)(["instance",e],(function(){return b(e)}))),n=t.data;return t.isFetching?a().createElement(u.Bullseye,null,a().createElement(u.Spinner,null)):a().createElement("div",null,a().createElement(l.Z,null,a().createElement(u.Flex,{direction:{default:"column"}},a().createElement(u.FlexItem,null,a().createElement(u.Breadcrumb,null,a().createElement(p,{to:"/instances"},"ACS instances"),a().createElement(u.BreadcrumbItem,{isActive:!0},n.name))),a().createElement(u.FlexItem,null,a().createElement(i.Z,{title:n.name})))),a().createElement(c.Z,{className:"pf-u-p-0 pf-m-fill pf-m-overflow-scroll"},a().createElement(u.PageSection,null,a().createElement(u.Flex,{alignItems:{default:"alignItemsStretch"}},a().createElement(u.FlexItem,{flex:{default:"flex_1"},alignSelf:{default:"alignSelfStretch"}},a().createElement(u.Card,{className:"pf-u-h-100"},a().createElement(u.CardHeader,null,a().createElement(u.CardHeaderMain,null,a().createElement(u.CardTitle,null,"ACS Instance Access"))),a().createElement(u.CardBody,null,a().createElement(u.Flex,{direction:{default:"column"}},a().createElement(u.FlexItem,null,"Get started by signing in to your ACS instance."),a().createElement(u.FlexItem,null,a().createElement(u.Button,{variant:u.ButtonVariant.primary,component:"a",href:n.centralUIURL,target:"_blank"},"Open ACS Console")))))),a().createElement(u.FlexItem,{flex:{default:"flex_1"}},a().createElement(u.Card,null,a().createElement(u.CardHeader,null,a().createElement(u.CardHeaderMain,null,a().createElement(u.CardTitle,null,"Instance Details"))),a().createElement(u.CardBody,null,a().createElement(y.Z,{instance:n})))))),a().createElement(u.PageSection,{variant:u.PageSectionVariants.light,isFilled:!0,hasOverflowScroll:!0,isWidthLimited:!0},a().createElement(u.Title,{headingLevel:"h2"},"Use Red Hat ACS to secure your clusters"),a().createElement(u.Grid,{hasGutter:!0},a().createElement(u.GridItem,{md:7},a().createElement(u.Card,{className:"marketing-video"},a().createElement("iframe",{src:"https://www.youtube.com/embed/lFBFW3HmgsA",title:"Advanced Cluster Security in 2 Minutes",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))),a().createElement(u.GridItem,{md:5,hasGutter:!0},a().createElement(u.List,{isPlain:!0},a().createElement(u.ListItem,null,a().createElement(u.Button,{variant:"link",isInline:!0,component:"a",href:"https://www.redhat.com/sysadmin/kubernetes-RHACS-red-hat-advanced-cluster-security",target:"_blank"},"Getting Started Guide")),a().createElement(u.ListItem,null,a().createElement(u.Button,{variant:"link",isInline:!0,component:"a",href:"https://docs.openshift.com/acs/3.71/welcome/index.html",target:"_blank"},"Product Configuration"))))))))}},19602:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>re});var r=n(87462),a=n(70885),l=n(93264),i=n.n(l),c=n(16530),o=n(14748),u=n(80123),s=n(39173),m=n(70943),d=n(38877),p=n(96733),f=n(71070);var E=n(15861),v=n(87757),g=n.n(v),h=n(88767),b=n(22512),y=n(80129),S=n.n(y),C=function(){var e=(0,E.Z)(g().mark((function e(t){var n,r,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.query,n=S().stringify(l,{encode:!1}),e.next=4,b.Z.get("/api/rhacs/v1/centrals?".concat(n));case 4:return r=e.sent,a=r.data,e.abrupt("return",a);case 7:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,E.Z)(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.post("/api/rhacs/v1/centrals?async=true",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,E.Z)(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.delete("/api/rhacs/v1/centrals/".concat(t,"?async=true"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function O(){var e=(0,h.useQueryClient)();return(0,h.useMutation)(T,{onSuccess:function(){e.invalidateQueries("instances")}})}var D=function(){var e=(0,E.Z)(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.get("/api/rhacs/v1/cloud_accounts");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=n(4942),x=n(60509);const Z=function(e){var t=e.toggleIcon,n=e.id,r=e.value,c=e.handleSelect,o=e.isDisabled,u=void 0!==o&&o,s=e.children,d=e.direction,p=void 0===d?"down":d,f=e.isCreatable,E=void 0!==f&&f,v=e.variant,g=void 0===v?null:v,h=e.placeholderText,b=void 0===h?"":h,y=e.menuAppendTo,S=void 0===y?void 0:y,C=(0,l.useState)(!1),w=(0,a.Z)(C,2),T=w[0],O=w[1],D="typeahead"===g?m.SelectVariant.typeahead:m.SelectVariant.single;return i().createElement(m.Select,{variant:D,toggleIcon:t,id:n,isDisabled:u,isOpen:T,onSelect:function(e,t){O(!1),c(n,t)},onToggle:O,selections:r,direction:p,isCreatable:E,placeholderText:b,toggleId:n,menuAppendTo:S},s)};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={name:"",cloud_provider:"aws",region:"us-east-1",availabilityZones:"multi",cloud_account_id:""};const F=function(e){var t=e.isOpen,n=e.onClose,r=e.onRequestCreate,c=e.cloudAccountIds,o=(0,l.useState)(null),u=(0,a.Z)(o,2),s=u[0],d=u[1],p=(0,l.useState)(L),f=(0,a.Z)(p,2),v=f[0],h=f[1],b=(0,l.useState)(!1),y=(0,a.Z)(b,2),S=y[0],C=y[1];function w(){d(null),h(L),C(!1),n()}function T(){return(T=(0,E.Z)(g().mark((function e(){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,r(v);case 3:t=e.sent,C(!1),t instanceof Error?(a=t.response.data.reason,d(a)):(h(L),n());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){var n=t.currentTarget.id;h((function(e){return k(k({},e),{},{availabilityZones:n})}))}return(0,l.useEffect)((function(){""===v.cloud_account_id&&1===c.length&&h((function(e){return k(k({},e),{},{cloud_account_id:c[0]})}))}),[c]),i().createElement(m.Modal,{variant:m.ModalVariant.small,title:"Create ACS instance",isOpen:t,onClose:w,actions:[i().createElement(m.Button,{key:"createInstance",variant:"primary",onClick:function(){return T.apply(this,arguments)},isLoading:S,isDisabled:S||!(null!=v&&v.name)},"Create instance"),i().createElement(m.Button,{key:"cancel",variant:"link",onClick:w,isDisabled:S},"Cancel")]},s&&i().createElement("div",{className:"pf-u-mb-md"},i().createElement(m.Alert,{variant:"danger",title:s})),i().createElement(m.Form,null,i().createElement(m.FormGroup,{label:"Name",isRequired:!0,fieldId:"name",helperText:"Must start with a letter and end with a letter or number. Valid characters include lowercase letters from a to z, numbers from 0 to 9, and hyphens ( - )."},i().createElement(m.TextInput,{isRequired:!0,type:"text",id:"name",name:"name",value:v.name,onChange:function(e){h((function(t){return k(k({},t),{},{name:e})}))}})),i().createElement(m.FormGroup,{label:"Cloud provider",isRequired:!0,fieldId:"cloud_provider"},i().createElement(m.Tile,{title:"Amazon Web Services",isSelected:"aws"===v.cloud_provider})),i().createElement(m.FormGroup,{label:"AWS account number",fieldId:"cloud_account_id"},i().createElement(Z,{id:"cloud_account_id",value:v.cloud_account_id,handleSelect:function(e,t){h((function(e){return k(k({},e),{},{cloud_account_id:t})}))},placeholderText:0===c.length?"No accounts available":"Select an AWS Account",menuAppendTo:"parent",isDisabled:0===c.length},c.map((function(e){return i().createElement(m.SelectOption,{key:e,value:e},e)})))),i().createElement(m.FormGroup,{label:"Cloud region",isRequired:!0,fieldId:"region"},i().createElement(Z,{id:"region",value:v.region,handleSelect:function(e,t){h((function(e){return k(k({},e),{},{region:t})}))}},x.Jo.map((function(e){return i().createElement(m.SelectOption,{key:e.value,value:e.value},e.label)})))),i().createElement(m.FormGroup,{label:"Availability zones",isRequired:!0,fieldId:"availabilityZones"},i().createElement(m.ToggleGroup,{"aria-label":"Availability Zones"},i().createElement(m.ToggleGroupItem,{text:"Single",buttonId:"single",isSelected:"single"===v.availabilityZones,onChange:O,isDisabled:!0}),i().createElement(m.ToggleGroupItem,{text:"Multi",buttonId:"multi",isSelected:"multi"===v.availabilityZones,onChange:O})))))},A=function(e){var t=e.isOpen,n=e.instance,r=e.onRequestDelete,c=e.onClose,o=(0,l.useState)(""),u=(0,a.Z)(o,2),s=u[0],d=u[1],p=(0,l.useState)(!1),f=(0,a.Z)(p,2),v=f[0],h=f[1];function b(){return y.apply(this,arguments)}function y(){return(y=(0,E.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,r(n.id);case 3:t=e.sent,h(!1),t.error||(d(""),c());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return n.name===s}return n?i().createElement(m.Modal,{variant:m.ModalVariant.small,title:"Delete instance?",isOpen:t,onClose:c,actions:[i().createElement(m.Button,{key:"createInstance",variant:"danger",onClick:b,isLoading:v,isDisabled:v||!S()},"Delete instance"),i().createElement(m.Button,{key:"cancel",variant:"link",onClick:c,isDisabled:v},"Cancel")]},i().createElement("div",{className:"pf-u-pb-md"},i().createElement("div",null,"This will permanently delete"," ",i().createElement("span",{className:"pf-u-font-weight-bold"},n.name),"."),i().createElement("div",null,"This action cannot be undone.")),i().createElement(m.Form,{onSubmit:function(e){e.preventDefault(),S()&&b()}},i().createElement(m.FormGroup,{label:"Confirmation",isRequired:!0,fieldId:"confirmationInstanceName"},i().createElement(m.TextInput,{isRequired:!0,type:"text",id:"confirmationInstanceName",name:"confirmationInstanceName",value:s,onChange:d})),i().createElement(m.HelperText,null,i().createElement(m.HelperTextItem,null,"Type ",i().createElement("span",{className:"pf-u-font-weight-bold"},n.name)," ","to confirm.")))):null};var _=n(45331);const j=function(e){var t=e.isExpanded,n=e.onClose,r=e.instance,a=e.children;return i().createElement(m.Drawer,{isExpanded:t},i().createElement(m.DrawerContent,{panelContent:i().createElement(m.DrawerPanelContent,null,i().createElement(m.DrawerHead,null,i().createElement("div",null,i().createElement(m.TextContent,null,i().createElement(m.Text,{component:m.TextVariants.small},"Name")),i().createElement(m.TextContent,null,i().createElement(m.Text,{component:m.TextVariants.h2},null==r?void 0:r.name))),i().createElement(m.DrawerActions,null,i().createElement(m.DrawerCloseButton,{onClick:n}))),i().createElement(m.Divider,{component:"div"}),i().createElement(m.DrawerContentBody,null,r&&i().createElement(_.Z,{instance:r})))},a))};var N=n(15558),R=n(35451),G=n(84564),B=n(41942),q={accepted:"Request accepted",preparing:"Creation pending",provisioning:"Creation in progress",ready:"Ready",failed:"Failed",deprovision:"Deprovisioning",deleting:"Deleting"},V=Object.keys(q).map((function(e){return{value:e,label:q[e]}})),z={accepted:{message:q.accepted,component:i().createElement(B.ZP,null)},preparing:{message:q.preparing,component:i().createElement(B.ZP,null)},provisioning:{message:q.provisioning,component:i().createElement(m.Spinner,{isSVG:!0,size:"md"})},ready:{message:q.ready,component:i().createElement(R.ZP,{className:"pf-u-success-color-100"})},failed:{message:q.failed,component:i().createElement(G.ZP,{className:"pf-u-danger-color-100"})},deprovision:{message:q.deprovision,component:i().createElement(m.Spinner,{isSVG:!0,size:"md"})},deleting:{message:q.deleting,component:i().createElement(m.Spinner,{isSVG:!0,size:"md"})}};const H=function(e){var t=e.status,n=z[t]||{message:"N/A",component:null},r=n.message,a=n.component;return i().createElement(m.Flex,null,i().createElement(m.FlexItem,null,a),i().createElement(m.FlexItem,null,r))};var M=n(42982),U=n(45697),Q=n.n(U),W=n(8755);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=e.filters,n=e.setFilters,r=(0,l.useState)("Name"),c=(0,a.Z)(r,2),o=c[0],u=c[1],s=(0,l.useState)(""),d=(0,a.Z)(s,2),p=d[0],E=d[1],v=(0,l.useState)(""),g=(0,a.Z)(v,2),h=g[0],b=g[1],y=(0,l.useState)(!1),S=(0,a.Z)(y,2),C=S[0],w=S[1],T=(0,l.useState)(!1),O=(0,a.Z)(T,2),D=O[0],I=O[1];function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n((function(n){var r=K({},n),a=r[e.toLowerCase()].filter((function(e){return e!==t}));return 0===(null==a?void 0:a.length)?delete r[e.toLowerCase()]:r[e.toLowerCase()]=a,r}))}function k(e){n((function(t){var n=K({},t);return delete n[e.toLowerCase()],n}))}function L(e,t,r){var a=t.target.checked;n((function(t){var n=K({},t),l=t[e]||[],i=a?[].concat((0,M.Z)(l),[r]):l.filter((function(e){return e!==r}));return 0===i.length?delete n[e]:n[e]=i,n}))}return i().createElement(m.ToolbarToggleGroup,{toggleIcon:i().createElement(W.ZP,null),breakpoint:"xl"},i().createElement(m.ToolbarGroup,{variant:"filter-group"},i().createElement(m.ToolbarItem,null,i().createElement(Z,{id:"region",value:o,handleSelect:function(e,t){u(t)}},i().createElement(m.SelectOption,{value:"Name"},"Name"),i().createElement(m.SelectOption,{value:"Region"},"Region"),i().createElement(m.SelectOption,{value:"Owner"},"Owner"),i().createElement(m.SelectOption,{value:"Status"},"Status"))),i().createElement(m.ToolbarFilter,{chips:t.name,deleteChip:P,deleteChipGroup:k,categoryName:"Name",className:"Name"!==o&&"pf-u-hidden"},i().createElement(m.ToolbarItem,null,i().createElement(m.InputGroup,null,i().createElement(m.TextInput,{id:"filterName",type:"text","aria-label":"Name",placeholder:"Filter by name",value:p,onChange:function(e){return E(e)}}),i().createElement(m.Button,{variant:"control","aria-label":"Search Name",onClick:function(){p&&n((function(e){var t=K({},e);return t.name=[p],console.log(t),t}))}},i().createElement(f.ZP,null))))),i().createElement(m.ToolbarFilter,{chips:t.region,deleteChip:P,deleteChipGroup:k,categoryName:"Region",className:"Region"!==o&&"pf-u-hidden"},i().createElement(m.ToolbarItem,null,i().createElement(m.Select,{variant:m.SelectVariant.checkbox,"aria-label":"Region",onToggle:w,onSelect:function(e,t){L("region",e,t)},selections:t.region,isOpen:C,placeholderText:"Filter by region"},x.Jo.map((function(e){return i().createElement(m.SelectOption,{key:e.label,value:e.label},e.label)}))))),i().createElement(m.ToolbarFilter,{chips:t.owner,deleteChip:P,deleteChipGroup:k,categoryName:"Owner",className:"Owner"!==o&&"pf-u-hidden"},i().createElement(m.ToolbarItem,null,i().createElement(m.InputGroup,null,i().createElement(m.TextInput,{id:"filterOwner",type:"text","aria-label":"Owner",placeholder:"Filter by owner",value:h,onChange:function(e){return b(e)}}),i().createElement(m.Button,{variant:"control","aria-label":"Search Owner",onClick:function(){h&&n((function(e){var t=K({},e);return t.owner=[h],t}))}},i().createElement(f.ZP,null))))),i().createElement(m.ToolbarFilter,{chips:t.status,deleteChip:P,deleteChipGroup:k,categoryName:"Status",className:"Status"!==o&&"pf-u-hidden"},i().createElement(m.ToolbarItem,null,i().createElement(m.Select,{variant:m.SelectVariant.checkbox,"aria-label":"Status",onToggle:I,onSelect:function(e,t){L("status",e,t)},selections:t.status,isOpen:D,placeholderText:"Filter by status"},V.map((function(e){return i().createElement(m.SelectOption,{key:e.label,value:e.label},e.label)})))))))}X.propTypes={filters:Q().shape({name:Q().string.isRequired,region:Q().string.isRequired,owner:Q().string.isRequired,status:Q().string.isRequired}),setFilters:Q().func.isRequired};const Y=X;var $=n(15705);function ee(e){return Object.keys(e).filter((function(t){return e[t].length})).map((function(t){var n=e[t].map((function(e){var n,r,a=e;return"cloud_provider"===t?a=(0,$.xp)(e):"region"===t?a=(0,x.n9)(e):"status"===t&&(n=e,a=null==(r=V.find((function(e){return e.label===n})))?void 0:r.value),"".concat(t," = ").concat(a)})).join(" or ");return"(".concat(n,")")})).join(" and ")||""}var te=["name","cloud_provider","region","owner","status","created_at"],ne={field:"name",direction:"asc"};const re=(0,c.withRouter)((function(){var e,t,n,E,v,g=(0,c.useHistory)(),b=function(){var e=(0,l.useState)(1),t=(0,a.Z)(e,2),n=t[0],r=t[1],i=(0,l.useState)(20),c=(0,a.Z)(i,2),o=c[0],u=c[1];return{page:n,perPage:o,onSetPage:function(e,t){r(t)},onPerPageSelect:function(e,t){u(t)}}}(),y=b.page,S=b.perPage,T=b.onSetPage,I=b.onPerPageSelect,Z=function(e){var t=e.sortFields,n=e.defaultSortOption,r=(0,l.useState)(),i=(0,a.Z)(r,2),c=i[0],o=i[1],u=(null==c?void 0:c.field)||n.field,s=(null==c?void 0:c.direction)||n.direction,m=(0,l.useState)({}),d=(0,a.Z)(m,2),p=d[0],f=d[1];return(0,l.useEffect)((function(){var e=t.reduce((function(e,t,n){return e[t]=n,e}),{});f(e)}),[t]),{sortOption:{field:u,direction:s},getSortParams:function(e){var t=p[e];return{sortBy:{index:u?p[u]:void 0,direction:s,defaultDirection:"desc"},onSort:function(t,n,r){o({field:e,direction:r})},columnIndex:t}}}}({sortFields:te,defaultSortOption:ne}),P=Z.sortOption,k=Z.getSortParams,L=(0,l.useState)({}),_=(0,a.Z)(L,2),R=_[0],G=_[1],B=(0,h.useQuery)(["cloud_accounts"],(function(){return D()})).data,q=(null==B||null===(e=B.cloudAccounts)||void 0===e?void 0:e.map((function(e){return e.cloudAccountId})))||[],V=(n=(t={query:{page:y,size:S,orderBy:"".concat(P.field," ").concat(P.direction),search:ee(R)},refetchInterval:1e4}).refetchInterval,(0,h.useQuery)(["instances",t],(function(){return C(t)}),{refetchInterval:n})),z=V.data,M=V.isFetching,U=(E=(0,h.useQueryClient)(),(0,h.useMutation)(w,{onSuccess:function(){E.invalidateQueries("instances")}})),Q=O(),W=(0,l.useState)(null),J=(0,a.Z)(W,2),K=J[0],X=J[1],re=(0,l.useState)(null),ae=(0,a.Z)(re,2),le=ae[0],ie=ae[1],ce=(0,l.useState)(null),oe=(0,a.Z)(ce,2),ue=oe[0],se=oe[1],me=(null==z?void 0:z.items)||[],de=M&&!z;function pe(){G({})}return(0,l.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appAction)||void 0===n||n.call(t,"instances-page")}),[]),v=0===me.length&&0===Object.keys(R).length?i().createElement(m.EmptyState,null,i().createElement(m.EmptyStateIcon,{icon:p.ZP}),i().createElement(m.Title,{size:"lg",headingLevel:"h4"},"No ACS instances."),i().createElement(m.EmptyStateBody,null,"Create one to get started."),i().createElement(m.EmptyStatePrimary,null,i().createElement(m.Button,{variant:"primary",onClick:function(){return X({})}},"Create ACS instance"))):i().createElement(i().Fragment,null,i().createElement(m.Toolbar,{clearAllFilters:pe},i().createElement(m.ToolbarContent,null,i().createElement(Y,{filters:R,setFilters:G}),i().createElement(m.ToolbarItem,null,i().createElement(m.Button,{variant:"primary",onClick:function(){return X({})}},"Create ACS instance")),0!==me.length&&i().createElement(m.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},i().createElement(m.Pagination,{itemCount:me.length,perPage:S,page:y,onSetPage:T,widgetId:"acs-instances-top-pagination",onPerPageSelect:I,isCompact:!0})))),i().createElement(d.TableComposable,{"aria-label":"ACS instances table"},i().createElement(d.Thead,null,i().createElement(d.Tr,null,i().createElement(d.Th,{sort:k("name")},"Name"),i().createElement(d.Th,{sort:k("cloud_provider")},"Cloud provider"),i().createElement(d.Th,{sort:k("region")},"Region"),i().createElement(d.Th,{sort:k("owner")},"Owner"),i().createElement(d.Th,{sort:k("status")},"Status"),i().createElement(d.Th,{sort:k("created_at")},"Time created"),i().createElement(d.Th,null))),i().createElement(d.Tbody,null,de&&i().createElement(d.Tr,null,i().createElement(d.Td,{colSpan:8},i().createElement(m.Bullseye,null,i().createElement(m.Spinner,null)))),!de&&0===me.length&&i().createElement(d.Tr,null,i().createElement(d.Td,{colSpan:8},i().createElement(m.Bullseye,null,i().createElement(m.EmptyState,{variant:m.EmptyStateVariant.small},i().createElement(m.EmptyStateIcon,{icon:f.ZP}),i().createElement(m.Title,{headingLevel:"h2",size:"lg"},"No results found"),i().createElement(m.EmptyStateBody,null,"Clear all filters and try again."),i().createElement(m.Button,{variant:"link",onClick:pe},"Clear all filters"))))),!de&&0!==me.length&&me.map((function(e){var t="/instances/instance/".concat(e.id);return i().createElement(d.Tr,{key:e.name,onRowClick:function(t){"button"!==t.target.getAttribute("type")&&"ready"===e.status&&se(e)},isRowSelected:(null==ue?void 0:ue.name)===(null==e?void 0:e.name)},i().createElement(d.Td,{dataLabel:"Name"},i().createElement(m.Button,{variant:"link",isInline:!0,isDisabled:"ready"!==e.status,component:function(e){return i().createElement(c.Link,(0,r.Z)({},e,{to:t}))}},e.name)),i().createElement(d.Td,{dataLabel:"Cloud provider"},(0,$.mt)(e.cloud_provider)),i().createElement(d.Td,{dataLabel:"Region"},(0,x.pP)(e.region)),i().createElement(d.Td,{dataLabel:"Owner"},e.owner),i().createElement(d.Td,{dataLabel:"Status"},i().createElement(H,{status:e.status})),i().createElement(d.Td,{dataLabel:"Time created"},(0,N.c)(e.created_at)),i().createElement(d.Td,{isActionCell:!0},i().createElement(d.ActionsColumn,{items:[{title:"Details",onClick:function(e){e.preventDefault(),g.push(t)}},{title:"Delete",onClick:function(t){t.preventDefault(),ie(e)}}]})))})))),0!==me.length&&i().createElement(m.Toolbar,null,i().createElement(m.ToolbarContent,null,i().createElement(m.ToolbarItem,{variant:"pagination",align:{default:"alignRight"}},i().createElement(m.Pagination,{itemCount:me.length,perPage:S,page:y,onSetPage:T,widgetId:"acs-instances-top-pagination",onPerPageSelect:I}))))),i().createElement(j,{isExpanded:!!ue,instance:ue,onClose:function(){se(null)}},i().createElement(u.Z,null,i().createElement(s.Z,{title:"ACS Instances"})),i().createElement(o.Z,null,i().createElement(m.Card,null,v),i().createElement(F,{isOpen:!!K,onClose:function(){X(null)},onRequestCreate:function(e){return U.mutateAsync({region:e.region,cloud_provider:e.cloud_provider,name:e.name,multi_az:"multi"===e.availabilityZones,cloud_account_id:e.cloud_account_id}).catch((function(e){return e}))},cloudAccountIds:q}),i().createElement(A,{instance:le,isOpen:!!le,onClose:function(){ie(null)},onRequestDelete:function(e){return Q.mutateAsync(e).catch((function(e){return e}))}})))}))},22512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r,a,l=n(4942),i=n(15861),c=n(87757),o=n.n(c),u=n(9669),s=n.n(u),m=n(34155);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f,E=null!==(r=m)&&void 0!==m&&null!==(a=r.env)&&void 0!==a?"https://api.openshift.com":"https://api.stage.openshift.com";const v=((f=s().create()).interceptors.request.use(function(){var e=(0,i.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:return e.next=4,insights.chrome.auth.getToken();case 4:return n=e.sent,r=t.baseURL||E,a=p(p({},t),{},{url:"".concat(r).concat(t.url)}),n&&(a.headers=p(p({},a.headers),{},{Authorization:"Bearer ".concat(n)})),delete a.customHost,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f)},15705:(e,t,n)=>{"use strict";n.d(t,{mt:()=>l,xp:()=>i});var r={aws:"Amazon Web Services"},a=Object.keys(r).map((function(e){return{value:e,label:r[e]}}));function l(e){return r[e]}function i(e){var t=a.find((function(t){return t.label===e}));return null==t?void 0:t.value}},15558:(e,t,n)=>{"use strict";n.d(t,{c:()=>i,F:()=>c});var r=n(53651),a=n(12902),l=n(5480);function i(e){return(0,r.Z)((0,a.Z)(e),new Date,{addSuffix:!0})}function c(e){return(0,l.Z)((0,a.Z)(e),"MM/dd/yyyy | h:mm:ss a")}},60509:(e,t,n)=>{"use strict";n.d(t,{Jo:()=>a,pP:()=>l,n9:()=>i});var r={"us-east-1":"US-East, N. Virginia"},a=Object.keys(r).map((function(e){return{value:e,label:r[e]}}));function l(e){return r[e]}function i(e){var t=a.find((function(t){return t.label===e}));return null==t?void 0:t.value}},24654:()=>{}}]);